"use strict";(self.webpackChunk_nyx_discord_docs=self.webpackChunk_nyx_discord_docs||[]).push([[409],{1099:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var r=t(7458),o=t(6436),s=t(9021),a=t(2543);const i={title:"\ud83d\ude80 Start"},l="\ud83d\ude80 First Start",c={id:"start",title:"\ud83d\ude80 Start",description:"Hello there! \ud83d\udc4b This step-by-step guide is here to help you make and run a simple nyx bot.",source:"@site/docs/start.mdx",sourceDirName:".",slug:"/start",permalink:"/nyx/docs/start",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/start.mdx",tags:[],version:"current",frontMatter:{title:"\ud83d\ude80 Start"},sidebar:"nyxSidebar",previous:{title:"\ud83c\udfe0 Welcome",permalink:"/nyx/docs/"},next:{title:"\ud83d\udcf8 Events",permalink:"/nyx/docs/features/events/event-overview"}},d={},u=[{value:"\u23ec Installation",id:"-installation",level:2},{value:"\ud83d\udc77 Bot Creation",id:"-bot-creation",level:2},{value:"\ud83d\ude80 Bot Starting",id:"-bot-starting",level:2},{value:"\ud83d\udcda Summary",id:"-summary",level:2},{value:"\ud83d\udd1c Next...",id:"-next",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"-first-start",children:"\ud83d\ude80 First Start"}),"\n",(0,r.jsx)(n.p,{children:"Hello there! \ud83d\udc4b This step-by-step guide is here to help you make and run a simple nyx bot."}),"\n",(0,r.jsx)(n.h2,{id:"-installation",children:"\u23ec Installation"}),"\n",(0,r.jsx)(n.p,{children:"First, let's start by installing nyx:"}),"\n",(0,r.jsxs)(s.Z,{groupId:"npm2yarn",children:[(0,r.jsx)(a.Z,{value:"npm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install @nyx-discord/framework @nyx-discord/core\n"})})}),(0,r.jsx)(a.Z,{value:"yarn",label:"Yarn",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @nyx-discord/framework @nyx-discord/core\n"})})}),(0,r.jsx)(a.Z,{value:"pnpm",label:"pnpm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm add @nyx-discord/framework @nyx-discord/core\n"})})})]}),"\n",(0,r.jsx)(n.h2,{id:"-bot-creation",children:"\ud83d\udc77 Bot Creation"}),"\n",(0,r.jsx)(n.p,{children:"The first coding step is to create a Discord.js client. This can be any client (as long as it's not logged in or destroyed)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import {\n  Client,\n  GatewayIntentBits\n} from 'discord.js';\n\nconst client = new Client({\n  intents: [GatewayIntentBits.Guilds],\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Next up, we'll create a new instance of ",(0,r.jsx)(n.code,{children:"Bot"}),", which is ",(0,r.jsx)(n.code,{children:"@framework"}),"'s implementation of ",(0,r.jsx)(n.code,{children:"NyxBot"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["You can do that with ",(0,r.jsx)(n.code,{children:"Bot#create()"}),", which takes a function that gets passed the currently constructing bot\ninstance, and should return the options that you want for the bot."]}),"\n",(0,r.jsx)(n.p,{children:"This is where you'll provide your bot's token, client instance, ID, logger, and other optional settings, like managers."}),"\n",(0,r.jsx)(n.p,{children:"You can also create multiple bots and they'll all work independently of each other."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Bot } from '@nyx-discord/framework';\n\nconst myBot = Bot.create((bot) => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('My bot'),\n  logger: console, // Can be your own logger\n  deployCommands: true, // Whether to deploy commands to Discord on start\n\n  // For example, if you had a custom command manager:\n  // commands: new MyCustomCommandManager(bot),\n}));\n"})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsxs)("summary",{children:["About ",(0,r.jsx)("code",{children:"new Bot()"})]}),"\nYou can also instantiate ",(0,r.jsx)("code",{children:"Bot"})," with the ",(0,r.jsx)("code",{children:"new"})," operator, but in order to allow dependency\ninjection, this constructor requires every manager on its options, including default ones."]}),(0,r.jsx)(n.p,{children:"You would need to instantiate and pass every manager to it, like so:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const myBot = new Bot((bot) => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('My bot'),\n  logger: console,\n  deployCommands: true,\n\n  events: DefaultEventManager.create(bot, client),\n  plugins: DefaultPluginManager.create(bot),\n  // and so on\n}));\n"})}),(0,r.jsxs)(n.p,{children:["You will find this pattern in a lot of other ",(0,r.jsx)(n.code,{children:"@framework"})," objects, where you can instantiate either with\n",(0,r.jsx)(n.code,{children:"new SomeComponent(depA, depB, ...)"})," specifying every dependency, or with ",(0,r.jsx)(n.code,{children:"SomeComponent.create()"}),'\n"without" default dependencies.']})]}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["When creating a bot (either via ",(0,r.jsx)(n.code,{children:"new"})," or ",(0,r.jsx)(n.code,{children:"#create()"}),"), the type of parameters that you return are used in the bot's\ntype signature."]}),(0,r.jsxs)(n.p,{children:["This implies that, for example, if you create a ",(0,r.jsx)(n.code,{children:"MyCustomCommandManager"})," and pass it to the bot's options, the bot will\nknow that its command manager is ",(0,r.jsx)(n.code,{children:"MyCustomCommandManager"})," and not just the generic ",(0,r.jsx)(n.code,{children:"CommandManager"}),", allowing you to use\ncustom properties or methods that you may have added or modified."]})]}),"\n",(0,r.jsx)(n.h2,{id:"-bot-starting",children:"\ud83d\ude80 Bot Starting"}),"\n",(0,r.jsx)(n.p,{children:"To start a bot, you can set it up and then login, or just directly start it:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"await bot.start(); // setups and logins\n\n// or:\nawait bot.setup();\nawait bot.login();\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.p,{children:["Trying to login a bot without first setting it up will throw an ",(0,r.jsx)(n.code,{children:"IllegalStateError"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"As a quick explanation:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When a bot is first created, it starts in the ",(0,r.jsx)(n.code,{children:"Unsetup"})," status. It's NOT recommended to interact with the bot on this state."]}),"\n",(0,r.jsxs)(n.li,{children:["Upon calling ",(0,r.jsx)(n.code,{children:"Bot#setup()"}),', all the managers and plugins are notified about the setup. This is done to safely perform\npossible asynchronous logic that these objects need to actually function, outside the "object construction" step. The\nbot then switches to ',(0,r.jsx)(n.code,{children:"Waiting"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["It's now safe to log in the bot on Discord with ",(0,r.jsx)(n.code,{children:"Bot#login()"}),". Managers and plugins are also notified after the login,\nbut at this point they should already be ready for it."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"-summary",children:"\ud83d\udcda Summary"}),"\n",(0,r.jsx)(n.p,{children:"The final code would look as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { Bot } from '@nyx-discord/framework';\nimport {\n  Client,\n  GatewayIntentBits\n} from 'discord.js';\n\nconst client = new Client({ intents: [GatewayIntentBits.Guilds] });\n\nconst bot = Bot.create(() => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('Bot'),\n  logger: console,\n  deployCommands: true,\n}));\n\n// Make sure you're on an async context to be able to await\nawait bot.start();\n"})}),"\n",(0,r.jsx)(n.p,{children:"And that's it! You now have a running Discord bot with nyx."}),"\n",(0,r.jsx)(n.h2,{id:"-next",children:"\ud83d\udd1c Next..."}),"\n",(0,r.jsx)(n.p,{children:"Check the rest of nyx features like command adding, event subscribing, schedule creation and more:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/nyx/docs/features/commands/command-overview",children:"\ud83d\udcbb Commands"})," - Create Discord application commands."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/nyx/docs/features/events/event-overview",children:"\ud83d\udcf8 Events"})," - Subscribe to events, either from Discord.js or your own."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/nyx/docs/features/schedules/schedule-overview",children:"\ufe0f\u23f0 Schedules"})," - Program timed tasks."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/nyx/docs/features/sessions/session-overview",children:"\ud83d\udc64 Sessions"})," - Create user interaction sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./features/plugins/plugin-overview",children:"\ufe0f\ud83e\udde9 Plugins"})," - Extend nyx."]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},2543:(e,n,t)=>{t.d(n,{Z:()=>a});t(2983);var r=t(8934);const o={tabItem:"tabItem_FK4c"};var s=t(7458);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,a),hidden:t,children:n})}},9021:(e,n,t)=>{t.d(n,{Z:()=>w});var r=t(2983),o=t(8934),s=t(6776),a=t(3729),i=t(3668),l=t(8866),c=t(5504),d=t(591);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const o=(0,a.k6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l._X)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(o.location.search);n.set(s,e),o.replace({...o.location,search:n.toString()})}),[s,o])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,s=h(e),[a,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[c,u]=p({queryString:t,groupId:o}),[x,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,s]=(0,d.Nk)(t);return[o,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:o}),b=(()=>{const e=c??x;return m({value:e,tabValues:s})?e:null})();(0,i.Z)((()=>{b&&l(b)}),[b]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,s]),tabValues:s}}var f=t(1678);const b={tabList:"tabList_dumu",tabItem:"tabItem_hRcV"};var y=t(7458);function g(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),o=i[t].value;o!==r&&(c(n),a(o))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:u,onClick:d,...s,className:(0,o.Z)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:o}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function v(e){const n=x(e);return(0,y.jsxs)("div",{className:(0,o.Z)("tabs-container",b.tabList),children:[(0,y.jsx)(g,{...e,...n}),(0,y.jsx)(j,{...e,...n})]})}function w(e){const n=(0,f.Z)();return(0,y.jsx)(v,{...e,children:u(e.children)},String(n))}},6436:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>a});var r=t(2983);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);