"use strict";(self.webpackChunk_nyx_discord_docs=self.webpackChunk_nyx_discord_docs||[]).push([[5032],{1363:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>I,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>o});var t=i(7458),s=i(6436),c=i(52),r=i(9262);const a={title:"\ud83d\udcf8 Events"},l="\ud83d\udcf8 Events",d={id:"features/events/event-overview",title:"\ud83d\udcf8 Events",description:"Hey there \ud83d\udc4b!  This guide is here to give you a fast understanding of how nyx's event system works, so you can use it",source:"@site/docs/features/events/event-overview.mdx",sourceDirName:"features/events",slug:"/features/events/event-overview",permalink:"/docs/features/events/event-overview",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/features/events/event-overview.mdx",tags:[],version:"current",frontMatter:{title:"\ud83d\udcf8 Events"},sidebar:"nyxSidebar",previous:{title:"\ud83d\ude80 First Start",permalink:"/docs/start"},next:{title:"\ufe0f\ud83d\udee1\ufe0f Event Interception",permalink:"/docs/features/events/event-interception"}},I={},o=[{value:"\ud83d\udcda Description",id:"-description",level:2},{value:"\u2728 Quick examples",id:"-quick-examples",level:2},{value:"\ud83d\udc42 Subscribing to an event",id:"-subscribing-to-an-event",level:2},{value:"\ud83e\udd16 Subscribing to the Client",id:"-subscribing-to-the-client",level:3},{value:"\ud83d\ude8c Creating an event bus",id:"-creating-an-event-bus",level:2},{value:"\ud83d\udce6 Event Type Safety",id:"-event-type-safety",level:2}];function j(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"-events",children:"\ud83d\udcf8 Events"}),"\n","\n","\n",(0,t.jsx)(n.p,{children:"Hey there \ud83d\udc4b!  This guide is here to give you a fast understanding of how nyx's event system works, so you can use it\nright away. For in-depth details, see the respective guides of each event related object."}),"\n",(0,t.jsx)(n.h2,{id:"-description",children:"\ud83d\udcda Description"}),"\n",(0,t.jsxs)(n.p,{children:["The event system in nyx is powered by ",(0,t.jsx)(n.code,{children:"EventBuses"}),". These are objects that store and notify their subscribers when an\nevent is called either internally or from another source."]}),"\n",(0,t.jsx)(n.p,{children:"Specifically, the event related objects are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EventManager"}),": The entry point for the event system, holding all the event-related objects and methods that use all\nof these objects."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EventBuses"}),": Store and notify their subscribers when an event happens, using its ",(0,t.jsx)(n.code,{children:"EventDispatcher"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EventDispatcher"}),": Stored by a bus, dispatches an event to the subscribers its passed, checking its\n",(0,t.jsx)(n.code,{children:"EventSubscriberMiddlewareLinkedList"})," and passing any errors to its ",(0,t.jsx)(n.code,{children:"ErrorHandler"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EventSubscribers"}),": Objects that subscribe to an event emitted by an ",(0,t.jsx)(n.code,{children:"EventBus"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Event emitting process description"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["An object executes the ",(0,t.jsx)(n.code,{children:"EventBus#emit()"})," method on an event bus, passing the emitted event and its arguments."]}),"\n",(0,t.jsx)(n.li,{children:"The bus gets the currently registered subscribers to said event."}),"\n",(0,t.jsxs)(n.li,{children:["The subscribers list and arguments are passed to the bus' ",(0,t.jsx)(n.code,{children:"EventDispatcher"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For every subscriber, the dispatcher checks its ",(0,t.jsx)(n.code,{children:"EventSubscriberMiddlewareLinkedList"})," which will allow or deny its\nnotification to that subscriber. This includes checking the filter on ",(0,t.jsx)(n.code,{children:"EventSubscriber#getFilter()"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["If allowed, the dispatcher will notify the subscriber, routing any errors to its ",(0,t.jsx)(n.code,{children:"EventSubscriberErrorHandler"}),"."]}),"\n"]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{className:"kroki-image",alt:"plantuml","data-type":"plantuml",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NTguMzMzM3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTQwNHB4O2hlaWdodDo1NThweDsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE0MDQgNTU4IiB3aWR0aD0iMTQwNC4xNjY3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjE5NC41OTY0IiByeD0iNC4xNjY3IiByeT0iNC4xNjY3IiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiIHdpZHRoPSIxMDg5LjU4MzMiIHg9IjMwMy42NDU4IiB5PSIyNDguODI4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzU1NTU1NTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI0NC43OTE3IiB4Mj0iNDQuNzkxNyIgeTE9Ijk4LjkyNTgiIHkyPSI0NjEuMTMyOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzU1NTU1NTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIyMTIuNSIgeDI9IjIxMi41IiB5MT0iOTguOTI1OCIgeTI9IjQ2MS4xMzI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjQyMS4zNTQyIiB4Mj0iNDIxLjM1NDIiIHkxPSI5OC45MjU4IiB5Mj0iNDYxLjEzMjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM1NTU1NTU7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NztzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNjk0LjI3MDgiIHgyPSI2OTQuMjcwOCIgeTE9Ijk4LjkyNTgiIHkyPSI0NjEuMTMyOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzU1NTU1NTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI5NjcuMTg3NSIgeDI9Ijk2Ny4xODc1IiB5MT0iOTguOTI1OCIgeTI9IjQ2MS4xMzI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojNTU1NTU1O3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjEyMzMuODU0MiIgeDI9IjEyMzMuODU0MiIgeTE9Ijk4LjkyNTgiIHkyPSI0NjEuMTMyOCIvPjx0ZXh0IGZpbGw9IiMyQTlGRDYiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyLjUiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuNjY2NyIgeD0iMjAuODMzMyIgeT0iOTAuNzY5NCI+T2JqZWN0PC90ZXh0PjxlbGxpcHNlIGN4PSI0NC43OTE3IiBjeT0iMTkuNzkxNyIgZmlsbD0ibm9uZSIgcng9IjguMzMzMyIgcnk9IjguMzMzMyIgc3R5bGU9InN0cm9rZTojNTVCMkRFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7Ii8+PHBhdGggZD0iTTQ0Ljc5MTcsMjguMTI1IEw0NC43OTE3LDU2LjI1IE0zMS4yNSwzNi40NTgzIEw1OC4zMzMzLDM2LjQ1ODMgTTQ0Ljc5MTcsNTYuMjUgTDMxLjI1LDcxLjg3NSBNNDQuNzkxNyw1Ni4yNSBMNTguMzMzMyw3MS44NzUgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiM1NUIyREU7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48dGV4dCBmaWxsPSIjMkE5RkQ2IiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjY2NjciIHg9IjIwLjgzMzMiIHk9IjQ3Ni45MDIzIj5PYmplY3Q8L3RleHQ+PGVsbGlwc2UgY3g9IjQ0Ljc5MTciIGN5PSI0OTQuNDMzNiIgZmlsbD0ibm9uZSIgcng9IjguMzMzMyIgcnk9IjguMzMzMyIgc3R5bGU9InN0cm9rZTojNTVCMkRFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7Ii8+PHBhdGggZD0iTTQ0Ljc5MTcsNTAyLjc2NjkgTDQ0Ljc5MTcsNTMwLjg5MTkgTTMxLjI1LDUxMS4xMDAzIEw1OC4zMzMzLDUxMS4xMDAzIE00NC43OTE3LDUzMC44OTE5IEwzMS4yNSw1NDYuNTE2OSBNNDQuNzkxNyw1MzAuODkxOSBMNTguMzMzMyw1NDYuNTE2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzU1QjJERTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMzkuNTUwOCIgcng9IjQuMTY2NyIgcnk9IjQuMTY2NyIgc3R5bGU9InN0cm9rZTojNTVCMkRFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7IiB3aWR0aD0iODUuNDE2NyIgeD0iMTY5Ljc5MTciIHk9IjU4LjMzMzMiLz48dGV4dCBmaWxsPSIjMkE5RkQ2IiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjQxNjciIHg9IjE4Mi4yOTE3IiB5PSI4Mi40MzYxIj5FdmVudEJ1czwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjM5LjU1MDgiIHJ4PSI0LjE2NjciIHJ5PSI0LjE2NjciIHN0eWxlPSJzdHJva2U6IzU1QjJERTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIgd2lkdGg9Ijg1LjQxNjciIHg9IjE2OS43OTE3IiB5PSI0NjAuMDkxMSIvPjx0ZXh0IGZpbGw9IiMyQTlGRDYiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyLjUiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAuNDE2NyIgeD0iMTgyLjI5MTciIHk9IjQ4NC4xOTM5Ij5FdmVudEJ1czwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjM5LjU1MDgiIHJ4PSI0LjE2NjciIHJ5PSI0LjE2NjciIHN0eWxlPSJzdHJva2U6IzU1QjJERTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIgd2lkdGg9IjEzMi4yOTE3IiB4PSIzNTUuNzI5MiIgeT0iNTguMzMzMyIvPjx0ZXh0IGZpbGw9IiMyQTlGRDYiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyLjUiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3LjI5MTciIHg9IjM2OC4yMjkyIiB5PSI4Mi40MzYxIj5FdmVudERpc3BhdGNoZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzOS41NTA4IiByeD0iNC4xNjY3IiByeT0iNC4xNjY3IiBzdHlsZT0ic3Ryb2tlOiM1NUIyREU7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiIHdpZHRoPSIxMzIuMjkxNyIgeD0iMzU1LjcyOTIiIHk9IjQ2MC4wOTExIi8+PHRleHQgZmlsbD0iIzJBOUZENiIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDcuMjkxNyIgeD0iMzY4LjIyOTIiIHk9IjQ4NC4xOTM5Ij5FdmVudERpc3BhdGNoZXI8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzOS41NTA4IiByeD0iNC4xNjY3IiByeT0iNC4xNjY3IiBzdHlsZT0ic3Ryb2tlOiM1NUIyREU7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiIHdpZHRoPSIyMjYuMDQxNyIgeD0iNTgxLjc3MDgiIHk9IjU4LjMzMzMiLz48dGV4dCBmaWxsPSIjMkE5RkQ2IiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwMS4wNDE3IiB4PSI1OTQuMjcwOCIgeT0iODIuNDM2MSI+RXZlbnRTdWJzY3JpYmVyTWlkZGxld2FyZUxpc3Q8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIzOS41NTA4IiByeD0iNC4xNjY3IiByeT0iNC4xNjY3IiBzdHlsZT0ic3Ryb2tlOiM1NUIyREU7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiIHdpZHRoPSIyMjYuMDQxNyIgeD0iNTgxLjc3MDgiIHk9IjQ2MC4wOTExIi8+PHRleHQgZmlsbD0iIzJBOUZENiIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEuMDQxNyIgeD0iNTk0LjI3MDgiIHk9IjQ4NC4xOTM5Ij5FdmVudFN1YnNjcmliZXJNaWRkbGV3YXJlTGlzdDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjM5LjU1MDgiIHJ4PSI0LjE2NjciIHJ5PSI0LjE2NjciIHN0eWxlPSJzdHJva2U6IzU1QjJERTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIgd2lkdGg9IjEzMS4yNSIgeD0iOTAxLjU2MjUiIHk9IjU4LjMzMzMiLz48dGV4dCBmaWxsPSIjMkE5RkQ2IiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNi4yNSIgeD0iOTE0LjA2MjUiIHk9IjgyLjQzNjEiPkV2ZW50U3Vic2NyaWJlcjwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjM5LjU1MDgiIHJ4PSI0LjE2NjciIHJ5PSI0LjE2NjciIHN0eWxlPSJzdHJva2U6IzU1QjJERTtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIgd2lkdGg9IjEzMS4yNSIgeD0iOTAxLjU2MjUiIHk9IjQ2MC4wOTExIi8+PHRleHQgZmlsbD0iIzJBOUZENiIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYuMjUiIHg9IjkxNC4wNjI1IiB5PSI0ODQuMTkzOSI+RXZlbnRTdWJzY3JpYmVyPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMzkuNTUwOCIgcng9IjQuMTY2NyIgcnk9IjQuMTY2NyIgc3R5bGU9InN0cm9rZTojNTVCMkRFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7IiB3aWR0aD0iMjE0LjU4MzMiIHg9IjExMjYuNTYyNSIgeT0iNTguMzMzMyIvPjx0ZXh0IGZpbGw9IiMyQTlGRDYiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyLjUiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg5LjU4MzMiIHg9IjExMzkuMDYyNSIgeT0iODIuNDM2MSI+RXZlbnRTdWJzY3JpYmVyRXJyb3JIYW5kbGVyPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMzkuNTUwOCIgcng9IjQuMTY2NyIgcnk9IjQuMTY2NyIgc3R5bGU9InN0cm9rZTojNTVCMkRFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7IiB3aWR0aD0iMjE0LjU4MzMiIHg9IjExMjYuNTYyNSIgeT0iNDYwLjA5MTEiLz48dGV4dCBmaWxsPSIjMkE5RkQ2IiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4OS41ODMzIiB4PSIxMTM5LjA2MjUiIHk9IjQ4NC4xOTM5Ij5FdmVudFN1YnNjcmliZXJFcnJvckhhbmRsZXI8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzJBOUZENiIgcG9pbnRzPSIyMDAsMTM2LjM5MzIsMjEwLjQxNjcsMTQwLjU1OTksMjAwLDE0NC43MjY2LDIwNC4xNjY3LDE0MC41NTk5IiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjMuMTI1OyIgeDE9IjQ0Ljc5MTciIHgyPSIyMDYuMjUiIHkxPSIxNDAuNTU5OSIgeTI9IjE0MC41NTk5Ii8+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzIuMjkxNyIgeD0iNTcuMjkxNyIgeT0iMTMwLjMyMDIiPkVtaXQgZXZlbnQgd2l0aCBhcmdzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzJBOUZENjtzdHJva2Utd2lkdGg6My4xMjU7IiB4MT0iMjEyLjUiIHgyPSIyNTYuMjUiIHkxPSIxODAuMTEwNyIgeTI9IjE4MC4xMTA3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMkE5RkQ2O3N0cm9rZS13aWR0aDozLjEyNTsiIHgxPSIyNTYuMjUiIHgyPSIyNTYuMjUiIHkxPSIxODAuMTEwNyIgeTI9IjE5My42NTIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMkE5RkQ2O3N0cm9rZS13aWR0aDozLjEyNTsiIHgxPSIyMTMuNTQxNyIgeDI9IjI1Ni4yNSIgeTE9IjE5My42NTIzIiB5Mj0iMTkzLjY1MjMiLz48cG9seWdvbiBmaWxsPSIjMkE5RkQ2IiBwb2ludHM9IjIyMy45NTgzLDE4OS40ODU3LDIxMy41NDE3LDE5My42NTIzLDIyMy45NTgzLDE5Ny44MTksMjE5Ljc5MTcsMTkzLjY1MjMiIHN0eWxlPSJzdHJva2U6IzJBOUZENjtzdHJva2Utd2lkdGg6MS4wNDE2NjY2NjY2NjY2NjY3OyIvPjx0ZXh0IGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyLjUiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY1LjYyNSIgeD0iMjI1IiB5PSIxNjkuODcxIj5HZXQgc3Vic2NyaWJlcnMgZm9yIGV2ZW50PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMyQTlGRDYiIHBvaW50cz0iNDA5LjM3NSwyMjkuMDM2NSw0MTkuNzkxNywyMzMuMjAzMSw0MDkuMzc1LDIzNy4zNjk4LDQxMy41NDE3LDIzMy4yMDMxIiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjMuMTI1OyIgeDE9IjIxMi41IiB4Mj0iNDE1LjYyNSIgeTE9IjIzMy4yMDMxIiB5Mj0iMjMzLjIwMzEiLz48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3My45NTgzIiB4PSIyMjUiIHk9IjIyMi45NjM1Ij5QYXNzIHN1YnNjcmliZXJzIGFuZCBhcmdzPC90ZXh0PjxwYXRoIGQ9Ik0zMDcuODEyNSwyNDguODI4MSBMMzkzLjIyOTIsMjQ4LjgyODEgTDM5My4yMjkyLDI2NS40NjIyIEwzODIuODEyNSwyNzUuODc4OSBMMzAzLjY0NTgsMjc1Ljg3ODkgTDMwMy42NDU4LDI1Mi45OTQ4IEE0LjE2NjcsNC4xNjY3IDAgMCAxIDMwNy44MTI1LDI0OC44MjgxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojQURBRkFFO3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxOTQuNTk2NCIgcng9IjQuMTY2NyIgcnk9IjQuMTY2NyIgc3R5bGU9InN0cm9rZTojMkE5RkQ2O3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7IiB3aWR0aD0iMTA4OS41ODMzIiB4PSIzMDMuNjQ1OCIgeT0iMjQ4LjgyODEiLz48dGV4dCBmaWxsPSIjOTkzM0NDIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMi4yOTE3IiB4PSIzMjQuNDc5MiIgeT0iMjY2LjY4MDkiPmxvb3A8L3RleHQ+PHRleHQgZmlsbD0iI0FEQUZBRSIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU2LjI1IiB4PSI0MTQuMDYyNSIgeT0iMjY3LjcyMjYiPltGb3IgZWFjaCBzdWJzY3JpYmVyXTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMkE5RkQ2IiBwb2ludHM9IjY4Mi4yOTE3LDMxMi4yNzIxLDY5Mi43MDgzLDMxNi40Mzg4LDY4Mi4yOTE3LDMyMC42MDU1LDY4Ni40NTgzLDMxNi40Mzg4IiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjMuMTI1OyIgeDE9IjQyMS44NzUiIHgyPSI2ODguNTQxNyIgeTE9IjMxNi40Mzg4IiB5Mj0iMzE2LjQzODgiLz48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNi42NjY3IiB4PSI0MzQuMzc1IiB5PSIzMDYuMTk5MSI+Q2hlY2sgTWlkZGxld2FyZTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMkE5RkQ2IiBwb2ludHM9IjQzMy4zMzMzLDM1MS44MjI5LDQyMi45MTY3LDM1NS45ODk2LDQzMy4zMzMzLDM2MC4xNTYzLDQyOS4xNjY3LDM1NS45ODk2IiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjMuMTI1O3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI0MjcuMDgzMyIgeDI9IjY5My43NSIgeTE9IjM1NS45ODk2IiB5Mj0iMzU1Ljk4OTYiLz48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk0Ljc5MTciIHg9IjQ0NC43OTE3IiB5PSIzNDUuNzQ5OSI+QWxsb3cvRGVueSBjYWxsPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMyQTlGRDYiIHBvaW50cz0iOTU0LjY4NzUsMzkxLjM3MzcsOTY1LjEwNDIsMzk1LjU0MDQsOTU0LjY4NzUsMzk5LjcwNyw5NTguODU0MiwzOTUuNTQwNCIgc3R5bGU9InN0cm9rZTojMkE5RkQ2O3N0cm9rZS13aWR0aDoxLjA0MTY2NjY2NjY2NjY2Njc7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMkE5RkQ2O3N0cm9rZS13aWR0aDozLjEyNTsiIHgxPSI0MjEuODc1IiB4Mj0iOTYwLjkzNzUiIHkxPSIzOTUuNTQwNCIgeTI9IjM5NS41NDA0Ii8+PHRleHQgZmlsbD0iI0ZGRkZGRiIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIuNSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuNDE2NyIgeD0iNDM0LjM3NSIgeT0iMzg1LjMwMDciPk5vdGlmeSBTdWJzY3JpYmVyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMyQTlGRDYiIHBvaW50cz0iMTIyMS4zNTQyLDQzMC45MjQ1LDEyMzEuNzcwOCw0MzUuMDkxMSwxMjIxLjM1NDIsNDM5LjI1NzgsMTIyNS41MjA4LDQzNS4wOTExIiBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjEuMDQxNjY2NjY2NjY2NjY2NzsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMyQTlGRDY7c3Ryb2tlLXdpZHRoOjMuMTI1O3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI5NjcuMTg3NSIgeDI9IjEyMjcuNjA0MiIgeTE9IjQzNS4wOTExIiB5Mj0iNDM1LjA5MTEiLz48dGV4dCBmaWxsPSIjRkZGRkZGIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMi41IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjU4MzMiIHg9Ijk3OS42ODc1IiB5PSI0MjQuODUxNSI+SGFuZGxlIEVycm9yczwvdGV4dD48IS0tU1JDPVtaUDMxUmk4bTM4UmxWV2hwMEROa0VvMzF3Q1BYMG9JVTg0cUQyT0c0c0l2THR0d1g1R3BLSlRlZllWRF9kdnJDckQ2OXE3UEx1ZHNINldxLTRlMm5jWFpOck82aTBXbWg1YkNpQm5IcnRXWS1PZGRvWWRHek8tbExlVTZ6bUZ0LUVWajFZajlLT2piTm44QXhCRV9IQ1IzbVNaUGc3TjdjRGFSYTJKSW43WGYxSUVjQ3hyVUZpVXVYMHBab3RESlJVLVpCcnRNV3JaMXpVajdTd0NzSEZVOUYtTVJ2NG9iLWROU01HY2ZWNVhHeGoyUTRWeXNJaUxMSWwtam1FdGg0R3dlT2FvTHB1Y04tYWoxUlhYdHNMRzZBRE5tM10tLT48L2c+PC9zdmc+"})}),"\n",(0,t.jsx)(n.h2,{id:"-quick-examples",children:"\u2728 Quick examples"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Imports are omitted on these examples for simplicity."})}),"\n",(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(r.Z,{value:"Listening to interactionCreate",children:[(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Extend ",(0,t.jsx)(n.code,{children:"AbstractDJSClientSubscriber"}),", implementing ",(0,t.jsx)(n.code,{children:"handleEvent()"})," and ",(0,t.jsx)(n.code,{children:"event"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Register it to a bot's ",(0,t.jsx)(n.code,{children:"EventManager"}),"."]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"class InteractionCreateSubscriber\n  extends AbstractDJSClientSubscriber<Events.InteractionCreate> {\n  protected readonly event = Events.InteractionCreate;\n\n  public handleEvent(\n    meta: EventDispatchMeta,\n    interaction: Interaction,\n  ): void {\n    const bot = meta.getBot();\n\n    bot.logger.info(`Interaction ${interaction.id} received.`);\n  }\n}\n\nconst subscriber = new InteractionCreateSubscriber();\nawait bot.events.subscribeClient(subscriber);\n"})})]}),(0,t.jsxs)(r.Z,{value:"Making an EventBus",children:[(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Instantiate a bus with either ",(0,t.jsx)(n.code,{children:"BasicEventBus#createAsync()"})," or ",(0,t.jsx)(n.code,{children:"BasicEventBus#createSync()"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Register it to a bot's ",(0,t.jsx)(n.code,{children:"EventManager"}),"."]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Or BasicEventBus#createSync()\nconst myBus = BasicEventBus.createAsync(\n bot,\n Symbol('myBus'), // Bus ID\n);\n\nawait bot.events.addEventBus(myBus);\n"})})]}),(0,t.jsxs)(r.Z,{value:"Listening to command runs",children:[(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Extend ",(0,t.jsx)(n.code,{children:"AbstractEventSubscriber"}),", implementing ",(0,t.jsx)(n.code,{children:"handleEvent()"})," and ",(0,t.jsx)(n.code,{children:"event"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Register it to a bot's ",(0,t.jsx)(n.code,{children:"CommandManager"})," event bus."]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"class CommandCallSubscriber\n  extends AbstractEventSubscriber<CommandEventArgs, typeof CommandEventEnum.CommandRun> {\n  protected readonly event = CommandEventEnum.CommandRun;\n\n  // All of these arguments are safely typed\n  public handleEvent(\n    meta: EventDispatchMeta,\n    command: ExecutableCommand<CommandData>,\n    interaction: CommandExecutableInteraction,\n    commandMeta: CommandExecutionMeta,\n  ) {\n  const bot = commandMeta.getBot();\n\n  bot.logger.info(`Command '${command.getData().name}' called.`);\n  }\n}\n\nawait bot.commands.getEventBus().subscribe(subscriber);\n"})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"-subscribing-to-an-event",children:"\ud83d\udc42 Subscribing to an event"}),"\n",(0,t.jsxs)(n.p,{children:["To subscribe to an event you first need an ",(0,t.jsx)(n.code,{children:"EventSubscriber"})," object."]}),"\n",(0,t.jsx)(n.p,{children:"You can create these by either:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Extending ",(0,t.jsx)(n.code,{children:"AbstractEventSubscriber"})," from ",(0,t.jsx)(n.code,{children:"@framework"})," (recommended)."]}),"\n",(0,t.jsxs)(n.li,{children:["Instantiating a ",(0,t.jsx)(n.code,{children:"SubscriberCallbackWrapper"})," from ",(0,t.jsx)(n.code,{children:"@framework"}),", passing a callback function."]}),"\n",(0,t.jsxs)(n.li,{children:["Implementing the ",(0,t.jsx)(n.code,{children:"EventSubscriber"})," interface from ",(0,t.jsx)(n.code,{children:"@core"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["After creating it, you finish by subscribing it to the bus that you want with ",(0,t.jsx)(n.code,{children:"EventBus#subscribe()"}),"."]}),"\n",(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(r.Z,{value:"Extending AbstractEventSubscriber",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { AbstractEventSubscriber } from '@nyx-discord/framework';\nimport type { EventDispatchMeta } from '@nyx-discord/core';\n\nclass MyEventSubscriber extends AbstractEventSubscriber<MyEventsArgs, 'someEvent'> {\n  protected readonly event = 'someEvent';\n\n  public handleEvent(meta: EventDispatchMeta, ...args: MyEventsArgs['someEvent']) {\n    const bot = meta.getBot();\n\n    bot.logger.log('Hello world');\n  }\n}\n\nconst frameworkSubscriber = new MyEventSubscriber();\n\nawait myBus.subscribe(frameworkSubscriber);\n"})})}),(0,t.jsx)(r.Z,{value:"Instantiating SubscriberCallbackWrapper",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { SubscriberCallbackWrapper } from '@nyx-discord/framework';\n\nconst callbackSubscriber = new SubscriberCallbackWrapper < MyEventsArgs, 'someEvent'>(\n  'someEvent',\n  (meta: EventDispatchMeta, ...args: MyEventsArgs['someEvent']) => {\n    const bot = meta.getBot();\n\n    bot.logger.log('Hello world');\n  }\n);\n\nawait myBus.subscribe(callbackSubscriber);\n"})})}),(0,t.jsx)(r.Z,{value:"Implementing EventSubscriber",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { EventSubscriber } from '@nyx-discord/core';\n\nclass MyInterfaceEventSubscriber implements EventSubscriber {\n  protected readonly event = 'someEvent';\n\n  public handleEvent(meta: EventDispatchMeta, ...args: unknown[]): void {\n    const bot = meta.getBot();\n\n    bot.logger.log('Hello world');\n  }\n  // ...\n}\n\nconst interfaceSubscriber = new MyInterfaceEventSubscriber();\n\nawait myBus.subscribe(interfaceSubscriber);\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"-subscribing-to-the-client",children:"\ud83e\udd16 Subscribing to the Client"}),"\n",(0,t.jsxs)(n.p,{children:["A common operation is to subscribe to the Discord.js Client to listen to client events. To do so, you need an\n",(0,t.jsx)(n.code,{children:"EventSubscriber"})," that receives any of discord.js' ",(0,t.jsx)(n.code,{children:"ClientEvents"})," as arguments, then just register said subscriber to\nthe manager's client event bus."]}),"\n",(0,t.jsxs)(n.p,{children:["There's a utility class on ",(0,t.jsx)(n.code,{children:"@nyx-discord/framework"})," for a Client subscriber, the ",(0,t.jsx)(n.code,{children:"AbstractDJSClientSubscriber"}),". It\nreceives the handled event as a generic, where you can use the discord.js ",(0,t.jsx)(n.code,{children:"Event"})," enum. This value is used to safely\ntype the arguments of the event handler."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Events } from 'discord.js';\nimport type { Interaction } from 'discord.js';\n\nimport { AbstractDJSClientSubscriber } from '@nyx-discord/framework';\nimport type { EventDispatchMeta } from '@nyx-discord/core';\n\nclass InteractionCreateSubscriber\n  extends AbstractDJSClientSubscriber<Events.InteractionCreate> {\n  protected override readonly event = Events.InteractionCreate;\n\n  public handleEvent(meta: EventDispatchMeta, interaction: Interaction) {\n    const bot = meta.getBot();\n\n    bot.logger.info(`Interaction ${interaction.id} received.`);\n  }\n}\n\nconst subscriber = new InteractionCreateSubscriber();\nawait bot.events.subscribeClient(subscriber);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-creating-an-event-bus",children:"\ud83d\ude8c Creating an event bus"}),"\n",(0,t.jsx)(n.p,{children:"You can create your own event buses by either:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Instantiating an",(0,t.jsx)(n.code,{children:"BasicEventBus"})," from",(0,t.jsx)(n.code,{children:"@framework"}),"(recommended)."]}),"\n",(0,t.jsxs)(n.li,{children:["Implementing the",(0,t.jsx)(n.code,{children:"EventBus"})," interface from",(0,t.jsx)(n.code,{children:"@core"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsxs)(n.p,{children:["There are two options to instantiate a default ",(0,t.jsx)(n.code,{children:"BasicEventBus"}),"."]}),(0,t.jsx)(n.p,{children:"Either with:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"BasicEventBus#createAsync()"})," which uses an",(0,t.jsx)(n.code,{children:"AsyncEventDispatcher"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"BasicEventBus#createSync()"})," which uses an",(0,t.jsx)(n.code,{children:"SyncEventDispatcher"}),"."]}),"\n"]}),(0,t.jsx)(n.p,{children:"In"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["An",(0,t.jsx)(n.code,{children:"AsyncEventDispatcher"})," executes multiple subscribers at a time, on a fixed amount."]}),"\n",(0,t.jsxs)(n.li,{children:["An",(0,t.jsx)(n.code,{children:"SyncEventDispatcher"})," executes one subscriber at a time, with a fixed execution time until it passes to\nthe next."]}),"\n"]}),(0,t.jsxs)(n.p,{children:["It's advised that you check the ",(0,t.jsx)(n.a,{href:"./event-dispatcher",children:"\u26a1 Event Dispatcher"})," documentation for more information."]})]}),"\n",(0,t.jsxs)(n.p,{children:["After creating it, you finish by registering it with ",(0,t.jsx)(n.code,{children:"EventManager#addEventBus()"}),"."]}),"\n",(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(r.Z,{value:"Instantiating BasicEventBus",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { BasicEventBus } from '@nyx-discord/framework';\n\n// Uses an AsyncEventDispatcher\nconst asyncBus = BasicEventBus.createAsync(\n  bot,\n  Symbol('myAsyncBus'), // Bus ID\n);\n\n// Uses a SyncEventDispatcher\nconst syncBus = BasicEventBus.createSync(\n  bot,\n  Symbol('mySyncBus'), // Bus ID\n);\n\nawait bot.events\n  .addEventBus(asyncBus)\n  .addEventBus(syncBus);\n"})})}),(0,t.jsx)(r.Z,{value:"Implementing EventBus",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { EventBus } from '@nyx-discord/core';\n\nclass MyInterfaceEventBus implements EventBus {\n  // ...\n}\n\nconst interfaceBus = new MyInterfaceEventBus();\n\nawait bot.events.addEventBus(interfaceBus);\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"-event-type-safety",children:"\ud83d\udce6 Event Type Safety"}),"\n",(0,t.jsxs)(n.p,{children:["To ensure type safety when emitting events, event buses take a generic type of ",(0,t.jsx)(n.code,{children:"Record<string, unknown[]>"}),", that\nrepresents the events that the bus emits, and their arguments."]}),"\n",(0,t.jsxs)(n.p,{children:["A typed event bus will also cause a type error when trying to add a ",(0,t.jsx)(n.code,{children:"EventSubscriber"})," whose arguments don't match any\nevent that the bus emits."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { BasicEventBus } from '@nyx-discord/framework';\n\ninterface TicketEventsArgs {\n  ticketCreate: [ticket: Ticket],\n  ticketClose: [closedTicket: Ticket, closer: TicketUser],\n}\n\nconst ticketBus = BasicEventBus.createAsync<TicketEventsArgs>(\n  bot,\n  Symbol('TicketEventBus'),\n);\n\nconst createdTicket: Ticket = {};\nconst closedTicket: Ticket = {};\nconst closerUser: TicketUser = {};\n\nawait ticketBus.emit('ticketCreate', [createdTicket]);\nawait ticketBus.emit('ticketClose', [closedTicket, closerUser]);\n\n// error-start\nawait ticketBus.emit('ticketCreate', ['Ticket']);\nawait ticketBus.emit('ticketClose', [ticketUser]);\nawait ticketBus.emit('ticketClose', []);\n// error-end\n\nconst validSubscriber = new SubscriberCallbackWrapper<TicketEventsArgs, 'ticketCreate'>(\n  'ticketCreate',\n  (meta: EventDispatchMeta, createdTicket: Ticket) => {\n    // Do something\n  }\n);\n\nconst invalidSubscriber = new SubscriberCallbackWrapper<TicketEventsArgs, 'ticketCreate'>(\n  'ticketCreate',\n  // Errors since TicketEventsArgs['ticketCreate'] doesn't match [number]\n  // error-next-line\n  (meta: EventDispatchMeta, createdTicket: number) => {\n    // Do something\n  }\n);\n\nticketBus\n  .subscribe(validSubscriber)\n    // Errors since [number] doesn't match any event argument on TicketEventsArgs\n  // error-next-line\n  .subscribe(invalidSubscriber);\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsxs)(n.p,{children:["A current limitation is that the bus (on ",(0,t.jsx)(n.code,{children:"EventBus#subscribe()"}),") will only check that there's an event that matches the\ngiven arguments. It will not check that the subscriber's event actually matches those types."]}),(0,t.jsxs)(n.p,{children:["It's advised that you create an abstract class for the subscriber you want, similar to the ",(0,t.jsx)(n.code,{children:"AbstractDJSClientSubscriber"}),"."]})]})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}},9262:(e,n,i)=>{i.d(n,{Z:()=>r});i(2983);var t=i(8934);const s={tabItem:"tabItem_rG4d"};var c=i(7458);function r(e){let{children:n,hidden:i,className:r}=e;return(0,c.jsx)("div",{role:"tabpanel",className:(0,t.Z)(s.tabItem,r),hidden:i,children:n})}},52:(e,n,i)=>{i.d(n,{Z:()=>T});var t=i(2983),s=i(8934),c=i(3743),r=i(3729),a=i(2461),l=i(8239),d=i(7333),I=i(6927);function o(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function j(e){const{values:n,children:i}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return o(e).map((e=>{let{props:{value:n,label:i,attributes:t,default:s}}=e;return{value:n,label:i,attributes:t,default:s}}))}(i);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function u(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function M(e){let{queryString:n=!1,groupId:i}=e;const s=(0,r.k6)(),c=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,l._X)(c),(0,t.useCallback)((e=>{if(!c)return;const n=new URLSearchParams(s.location.search);n.set(c,e),s.replace({...s.location,search:n.toString()})}),[c,s])]}function N(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,c=j(e),[r,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=i.find((e=>e.default))??i[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:c}))),[d,o]=M({queryString:i,groupId:s}),[N,b]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,c]=(0,I.Nk)(i);return[s,(0,t.useCallback)((e=>{i&&c.set(e)}),[i,c])]}({groupId:s}),m=(()=>{const e=d??N;return u({value:e,tabValues:c})?e:null})();(0,a.Z)((()=>{m&&l(m)}),[m]);return{selectedValue:r,selectValue:(0,t.useCallback)((e=>{if(!u({value:e,tabValues:c}))throw new Error(`Can't select invalid tab value=${e}`);l(e),o(e),b(e)}),[o,b,c]),tabValues:c}}var b=i(2034);const m={tabList:"tabList_I6mw",tabItem:"tabItem_Qvbi"};var h=i(7458);function x(e){let{className:n,block:i,selectedValue:t,selectValue:r,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,c.o5)(),I=e=>{const n=e.currentTarget,i=l.indexOf(n),s=a[i].value;s!==t&&(d(n),r(s))},o=e=>{let n=null;switch(e.key){case"Enter":I(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;n=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;n=l[i]??l[l.length-1];break}}n?.focus()};return(0,h.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":i},n),children:a.map((e=>{let{value:n,label:i,attributes:c}=e;return(0,h.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:o,onClick:I,...c,className:(0,s.Z)("tabs__item",m.tabItem,c?.className,{"tabs__item--active":t===n}),children:i??n},n)}))})}function g(e){let{lazy:n,children:i,selectedValue:s}=e;const c=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=c.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,h.jsx)("div",{className:"margin-top--md",children:c.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=N(e);return(0,h.jsxs)("div",{className:(0,s.Z)("tabs-container",m.tabList),children:[(0,h.jsx)(x,{...e,...n}),(0,h.jsx)(g,{...e,...n})]})}function T(e){const n=(0,b.Z)();return(0,h.jsx)(y,{...e,children:o(e.children)},String(n))}},6436:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>r});var t=i(2983);const s={},c=t.createContext(s);function r(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);